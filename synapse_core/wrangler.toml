name = "edgeneuro-synapse-core"
main = "src/index.ts"
compatibility_date = "2024-04-01"

[ai]
binding = "AI"

# Routing model for intent detection (smaller = faster)
# Options: @cf/meta/llama-3.2-1b-instruct, @cf/meta/llama-3.2-3b-instruct, @cf/meta/llama-3.1-8b-instruct
[vars]
ROUTING_MODEL = "@cf/meta/llama-3.2-1b-instruct"

[[kv_namespaces]]
binding = "AGENT_KV"
id = "30132360c6984b01a9e165955b76ce78"

[[d1_databases]]
binding = "DB"
database_name = "edgeneuro-db"
database_id = "88872e62-cff9-41e1-ad9c-6bae04771d65"

[[durable_objects.bindings]]
name = "SYNAPSE"
class_name = "SynapseState"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["SynapseState"]

[[migrations]]
tag = "v2"
new_sqlite_classes = []